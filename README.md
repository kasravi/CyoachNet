# Sequence diagram

[![](https://mermaid.ink/img/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtXG4gICAgU3R1ZGVudC0-PitFbnY6IFN0YXJ0IFNlc3Npb25cbiAgICBFbnYtPj4rQWdlbnQ6IG1lZGl1bSByZXdhcmRcbiAgICBBZ2VudC0-PitFbnY6IFF1aXogKGRpZmZpY3VsdHkgbGV2ZWwpIChUb25lKVxuICAgIEVudi0-PitTdHVkZW50OiBSZXF1ZXN0XG4gICAgU3R1ZGVudC0-PitFbnY6IFJlc3VsdFxuICAgIEVudi0-PitBZ2VudDogQmlnIHJld2FyZCBvbiBwYXNzIHNtYWxsIG1pbnVzIHJld2FyZCBvbiBmYWlsXG4gICAgQWdlbnQtPj4rRW52OiBOZXcgdHJhaW5pbmcgKGRpZmZpY3VsdHkgbGV2ZWwpIChUb25lKVxuICAgIEVudi0-PitTdHVkZW50OiBSZXF1ZXN0XG4gICAgU3R1ZGVudC0-PitFbnY6IFJlc3VsdFxuICAgIEVudi0-PitBZ2VudDogc21hbGwgcmV3YXJkIG9uIHBhc3Mgc21hbGwgcmV3YXJkIG9uIGZhaWxcbiAgICBBZ2VudC0-PitFbnY6IFJlaGVhcnNlIHBhc3QgKG4pIHRyYWluaW5nIChkaWZmaWN1bHR5IGxldmVsKSAoVG9uZSlcbiAgICBFbnYtPj4rU3R1ZGVudDogUmVxdWVzdFxuICAgIFN0dWRlbnQtPj4rRW52OiBSZXN1bHRcbiAgICBFbnYtPj4rQWdlbnQ6IHNtYWxsIG1pbnVzIHJld2FyZCBvbiBwYXNzIG1lZGl1bSBtaW51cyByZXdhcmQgb24gZmFpbFxuICAgIEFnZW50LT4-K0VudjogQWx0ZXIgcHJldmlvdXMgKG4pIHRyYWluaW5nIChkaWZmaWN1bHR5IGxldmVsKSAoVG9uZSlcbiAgICBFbnYtPj4rU3R1ZGVudDogUmVxdWVzdFxuICAgIFN0dWRlbnQtPj4rRW52OiBSZXN1bHRcbiAgICBFbnYtPj4rQWdlbnQ6IHNtYWxsIHJld2FyZCBvbiBwYXNzIHNtYWxsIHJld2FyZCBvbiBmYWlsXG4gICAgQWdlbnQtPj4rRW52OiBTZWN0aW9uIHByZXZpb3VzIChuKSB0cmFpbmluZyAoZGlmZmljdWx0eSBsZXZlbCkgKFRvbmUpXG4gICAgRW52LT4-K1N0dWRlbnQ6IFJlcXVlc3RcbiAgICBTdHVkZW50LT4-K0VudjogUmVzdWx0XG4gICAgRW52LT4-K0FnZW50OiBzbWFsbCByZXdhcmQgb24gcGFzcyBzbWFsbCByZXdhcmQgb24gZmFpbFxuICAgIEFnZW50LT4-K0VudjogQWx0ZXIgcHJldmlvdXMgc2Vzc2lvbiAobikgdHJhaW5pbmcgKGRpZmZpY3VsdHkgbGV2ZWwpIChUb25lKVxuICAgIEVudi0-PitTdHVkZW50OiBSZXF1ZXN0XG4gICAgU3R1ZGVudC0-PitFbnY6IFJlc3VsdFxuICAgIEVudi0-PitBZ2VudDogc21hbGwgcmV3YXJkIG9uIHBhc3Mgc21hbGwgcmV3YXJkIG9uIGZhaWxcbiAgICBBZ2VudC0-PitFbnY6IEVuZCB0aGUgc2Vzc2lvblxuICAgIFN0dWRlbnQtPj4rRW52OiBFbmQgU2Vzc2lvblxuICAgIEVudi0-PitBZ2VudDogc21hbGwgbWludXMgcmV3YXJkXG4gICAgU3R1ZGVudC0-PitFbnY6IFNwaXRiYWxsXG4gICAgRW52LT4-K0FnZW50OiBiaWcgbWludXMgcmV3YXJkXG4gICAgU3R1ZGVudC0-PitNaXI6IFJpZ2h0L1dyb25nXG4gICAgRW52LT4-K01pcjogUHJvYmxlbVxuICAgIE1pci0-PitBZ2VudDogU3RhdGVcbiAgICBcbiIsIm1lcm1haWQiOnsidGhlbWUiOiJkYXJrIn0sInVwZGF0ZUVkaXRvciI6ZmFsc2UsImF1dG9TeW5jIjp0cnVlLCJ1cGRhdGVEaWFncmFtIjpmYWxzZX0)](https://mermaid.live/edit/#eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtXG4gICAgU3R1ZGVudC0-PitFbnY6IFN0YXJ0IFNlc3Npb25cbiAgICBFbnYtPj4rQWdlbnQ6IG1lZGl1bSByZXdhcmRcbiAgICBBZ2VudC0-PitFbnY6IFF1aXogKGRpZmZpY3VsdHkgbGV2ZWwpIChUb25lKVxuICAgIEVudi0-PitTdHVkZW50OiBSZXF1ZXN0XG4gICAgU3R1ZGVudC0-PitFbnY6IFJlc3VsdFxuICAgIEVudi0-PitBZ2VudDogQmlnIHJld2FyZCBvbiBwYXNzIHNtYWxsIG1pbnVzIHJld2FyZCBvbiBmYWlsXG4gICAgQWdlbnQtPj4rRW52OiBOZXcgdHJhaW5pbmcgKGRpZmZpY3VsdHkgbGV2ZWwpIChUb25lKVxuICAgIEVudi0-PitTdHVkZW50OiBSZXF1ZXN0XG4gICAgU3R1ZGVudC0-PitFbnY6IFJlc3VsdFxuICAgIEVudi0-PitBZ2VudDogc21hbGwgcmV3YXJkIG9uIHBhc3Mgc21hbGwgcmV3YXJkIG9uIGZhaWxcbiAgICBBZ2VudC0-PitFbnY6IFJlaGVhcnNlIHBhc3QgKG4pIHRyYWluaW5nIChkaWZmaWN1bHR5IGxldmVsKSAoVG9uZSlcbiAgICBFbnYtPj4rU3R1ZGVudDogUmVxdWVzdFxuICAgIFN0dWRlbnQtPj4rRW52OiBSZXN1bHRcbiAgICBFbnYtPj4rQWdlbnQ6IHNtYWxsIG1pbnVzIHJld2FyZCBvbiBwYXNzIG1lZGl1bSBtaW51cyByZXdhcmQgb24gZmFpbFxuICAgIEFnZW50LT4-K0VudjogQWx0ZXIgcHJldmlvdXMgKG4pIHRyYWluaW5nIChkaWZmaWN1bHR5IGxldmVsKSAoVG9uZSlcbiAgICBFbnYtPj4rU3R1ZGVudDogUmVxdWVzdFxuICAgIFN0dWRlbnQtPj4rRW52OiBSZXN1bHRcbiAgICBFbnYtPj4rQWdlbnQ6IHNtYWxsIHJld2FyZCBvbiBwYXNzIHNtYWxsIHJld2FyZCBvbiBmYWlsXG4gICAgQWdlbnQtPj4rRW52OiBTZWN0aW9uIHByZXZpb3VzIChuKSB0cmFpbmluZyAoZGlmZmljdWx0eSBsZXZlbCkgKFRvbmUpXG4gICAgRW52LT4-K1N0dWRlbnQ6IFJlcXVlc3RcbiAgICBTdHVkZW50LT4-K0VudjogUmVzdWx0XG4gICAgRW52LT4-K0FnZW50OiBzbWFsbCByZXdhcmQgb24gcGFzcyBzbWFsbCByZXdhcmQgb24gZmFpbFxuICAgIEFnZW50LT4-K0VudjogQWx0ZXIgcHJldmlvdXMgc2Vzc2lvbiAobikgdHJhaW5pbmcgKGRpZmZpY3VsdHkgbGV2ZWwpIChUb25lKVxuICAgIEVudi0-PitTdHVkZW50OiBSZXF1ZXN0XG4gICAgU3R1ZGVudC0-PitFbnY6IFJlc3VsdFxuICAgIEVudi0-PitBZ2VudDogc21hbGwgcmV3YXJkIG9uIHBhc3Mgc21hbGwgcmV3YXJkIG9uIGZhaWxcbiAgICBBZ2VudC0-PitFbnY6IEVuZCB0aGUgc2Vzc2lvblxuICAgIFN0dWRlbnQtPj4rRW52OiBFbmQgU2Vzc2lvblxuICAgIEVudi0-PitBZ2VudDogc21hbGwgbWludXMgcmV3YXJkXG4gICAgU3R1ZGVudC0-PitFbnY6IFNwaXRiYWxsXG4gICAgRW52LT4-K0FnZW50OiBiaWcgbWludXMgcmV3YXJkXG4gICAgU3R1ZGVudC0-PitNaXI6IFJpZ2h0L1dyb25nXG4gICAgRW52LT4-K01pcjogUHJvYmxlbVxuICAgIE1pci0-PitBZ2VudDogU3RhdGVcbiAgICBcbiIsIm1lcm1haWQiOiJ7XG4gIFwidGhlbWVcIjogXCJkYXJrXCJcbn0iLCJ1cGRhdGVFZGl0b3IiOmZhbHNlLCJhdXRvU3luYyI6dHJ1ZSwidXBkYXRlRGlhZ3JhbSI6ZmFsc2V9)

# Systems

## Agent
agent is a DQN (or other forms) that has a set of fixed actions coming from Env and look at a state coming from Mirror.

### Actions
- New training
- rehearse one of past (n) trainings
- alter and rehearse one of past (n) trainings
- section and rehearse one of past (n) trainings
- end training

each action will be sent with a difficulty level (8 options) and a tone (8 options)
some actions also include which one of the past trainings should be considered (1024 options)

## Env
 Env is mostly a deteministic system. It has access to the problems and solutions state space, the difficulties, and tone control.

 It should be able to:
 - create new problems
 - bring back old problems
 - alter a problem
 - section a problem
 - validate the answer
 - create a tone (encouragment/discouragment/reward/punishment)

 it should also know about difficulties of problems, but this should be another network, because difficulties might be diffrent for diffrent people, and it should train itself based on responses coming from students.

## Mirror
mirror is a GAN that first train itself with Env until it resembles an student that recieves a problem and can or cannot solve it
- discrminative network will receive a problem from Env and tries to guess what will be the result (wrong or correct answer)
- generative network tries to create a problem that thinks Student will answer correct or wrong.

in the beginning the Mirror will be trained solely based on difficulties of the problems. if it is difficult the answer should be wrong otherwise correct. this will be corrected when Student starts answering the problems.

The state of the generative network will be send to Agent as current state of the Student

> Env and Mirror might be LSTM networks if the problem state space dictate that

## Student
Student is the learner, it decides when to start a learning session, when to stop one, and will answer to the problems coming from Env.

The system should first be trained with set of psudo-random synthetic students to not start from random state

### syntethic student
a system that can respond to Env. This is a statefull system that should have a psudo-random learning rate, being bored pattern, encouragment effect,...
this doesn't need to represent a real student per se

# Flow

We start from training the mirror so it can generate "difficulty 1 for correct" problems and "diffculties >1 for wrong" problems. We then wait for Student start command. From here on Agent issues an Action to Env. Env creates a problem in certain difficulty and present it to the student with a tone. The validation and Student's reaction along side the problem and the response usable for agent goes to Mirror. Mirror updates its state and send its genrative network's state along side the curated response from env to Agent. This will be continued until either Agent or Student stop the session.